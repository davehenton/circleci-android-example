machine:
 environment:
  ANDROID_HOME: /home/ubuntu/android
dependencies:
 cache_directories:
    - ~/.android
    - ~/android
 override:
   - chmod +x scripts/install-dependencies.sh
   - ./scripts/install-dependencies.sh
test:
  override:
    - ./gradlew assembleDebug
    - ./gradlew jacocoTestReport

    # run lint checker
    - ./gradlew build
    - lint app --html app/build/reports/lint/lint-result.html

  post:
    # copy the result to $CIRCLE_ARTIFACTS folder
    - cp -r app/build/outputs $CIRCLE_ARTIFACTS
    - cp -r app/build/reports $CIRCLE_ARTIFACTS
